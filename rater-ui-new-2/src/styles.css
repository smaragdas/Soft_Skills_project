/* ==============================================
   Softskills Rater UI — Modern Theme
   - Light/Dark via prefers-color-scheme
   - Smooth transitions, soft glass cards, chunky sliders
   - Works with existing classnames from the app
   ============================================== */

/* ---------- Theme tokens ---------- */
:root {
  --bg: #f6f7fb;
  --panel: #ffffffcc;          /* slightly translucent */
  --text: #111827;
  --muted: #6b7280;
  --border: #e5e7eb;
  --shadow: 0 8px 30px rgba(0,0,0,.06), 0 2px 6px rgba(0,0,0,.05);
  --radius: 14px;

  --brand: #2563eb;
  --brand-contrast: #ffffff;
  --success: #10b981;
  --danger: #ef4444;
  --warn: #f59e0b;

  --card-blur: saturate(1.2) blur(6px);

  --focus: 0 0 0 3px rgba(37,99,235,.25);
  --grid-min: 440px;

  --slider-height: 14px;
  --slider-thumb: 22px;

  --table-stripe: #fafafa;
  --sticky: #f9fafb;

  --scrollbar: #cbd5e1;
  --scrollbar-hover: #94a3b8;
}

html[data-theme="dark"] {
  --bg: #0f172a;
  --panel: #0b1222cc;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --border: #1f2937;
  --shadow: 0 8px 30px rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.25);

  --brand: #60a5fa;
  --brand-contrast: #0b1222;
  --success: #22d3ee;
  --danger: #fb7185;
  --warn: #fbbf24;

  --table-stripe: #0c1324;
  --sticky: #0b1222;

  --scrollbar: #334155;
  --scrollbar-hover: #475569;
}

/* ---------- Base ---------- */
* { box-sizing: border-box; }

html, body, #root {
  height: 100%;
}

html, body {
  margin: 0;
  background:
    radial-gradient(1200px 600px at 100% -10%, rgba(99,102,241,.12), transparent 60%),
    radial-gradient(1000px 500px at -10% 50%, rgba(56,189,248,.12), transparent 60%),
    var(--bg);
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Smooth transitions for common elements */
button, input, select, .card {
  transition: all .18s ease;
}

/* ---------- App shell ---------- */
.app-wrap {
  width: 100%;
  margin: 0 auto;
  padding: 18px 22px;
}

.full-width {
  max-width: none;
  width: 100%;
}

/* ---------- Header bar ---------- */
.header-bar {
  display: flex;
  align-items: center;
  gap: 14px;
  justify-content: space-between;
  margin-bottom: 12px;

  background: var(--panel);
  backdrop-filter: var(--card-blur);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 12px 14px;
  box-shadow: var(--shadow);
}

.header-bar input[type="text"],
.header-bar input:not([type]),
.header-bar select,
.header-bar button {
  height: 36px;
  border-radius: 10px;
  border: 1px solid var(--border);
  padding: 0 10px;
  background: #fff;
  color: var(--text);
}

html[data-theme="dark"] .header-bar input[type="text"],
html[data-theme="dark"] .header-bar input:not([type]),
html[data-theme="dark"] .header-bar select,
html[data-theme="dark"] .header-bar button {
  background: #0d1529;
  border-color: #172036;
  color: var(--text);
}

.header-bar button {
  background: var(--brand);
  color: var(--brand-contrast);
  border-color: transparent;
  font-weight: 700;
}
.header-bar button[disabled] {
  background: #cbd5e1;
  color: #ffffff;
  opacity: .7;
}
.header-bar button:hover:not([disabled]) {
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(37,99,235,.25);
}

/* ---------- Pagination bar ---------- */
.pagination {
  display: flex;
  gap: 8px;
  align-items: center;
  margin: 6px 0 12px 0;
}
.pagination button {
  height: 34px;
  padding: 0 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--panel);
  color: var(--text);
}
.pagination button:hover:enabled {
  transform: translateY(-1px);
  box-shadow: var(--shadow);
}

/* ---------- Sections (group by user) ---------- */
.section-header {
  position: sticky; top: 0;
  background: var(--sticky);
  backdrop-filter: saturate(1.2) blur(4px);
  padding: 10px 6px;
  border: 1px solid var(--border);
  border-left: 0; border-right: 0;
  z-index: 5;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
}

/* ---------- Grid layout ---------- */
.grid-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--grid-min), 1fr));
  gap: 16px;
}

/* ---------- Card ---------- */
.card {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  background: var(--panel);
  box-shadow: var(--shadow);
  backdrop-filter: var(--card-blur);
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 36px rgba(0,0,0,.10), 0 2px 10px rgba(0,0,0,.06);
}

.card:focus {
  outline: none;
  box-shadow: var(--shadow), var(--focus);
}

/* ---------- Answer text ---------- */
.answer-only {
  white-space: pre-wrap;
  font-size: 15.5px;
  line-height: 1.6;
  color: var(--text);
  background: linear-gradient(180deg, transparent, transparent 60%, rgba(99,102,241,.06) 60%, rgba(209, 209, 220, 0.06) 61%, transparent 61%);
  background-size: 100% 2.65em; /* subtle notepad lines */
  padding: 8px 6px;
  border-radius: 8px;
}
/* Force white text in Rater cards */
.answer-card,
.answer-card * {
  color: #fff !important;
}

/* Αν έχεις συγκεκριμένη κλάση για το κείμενο της ερώτησης, π.χ. .question-text: */
.question-text {
  color: #fff !important;
}

/* ---------- Meta row ---------- */
.meta-row {
  display: flex;
  align-items: baseline;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 10px;
}

.meta-big {
  font-weight: 800;
  letter-spacing: .25px;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(37,99,235,.10);
  color: var(--text);
}

.meta-user { font-size: 18px; }
.meta-qid  { font-size: 18px; background: rgba(16,185,129,.12); }
.meta-llm  { font-size: 18px; background: rgba(99,102,241,.16); color: #1d4ed8; }

html[data-theme="dark"] .meta-llm { color: #93c5fd; }

.meta-small {
  font-size: 12px;
  color: var(--muted);
}

/* ---------- Rating row (chunky slider) ---------- */
.rating-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: 14px;
}

.rating-row input[type="range"] {
  -webkit-appearance: none;
  width: 100%;
  height: var(--slider-height);
  background: linear-gradient(90deg, rgba(37,99,235,.15), rgba(99,102,241,.15));
  border: 1px solid var(--border);
  border-radius: 999px;
  outline: none;
  transition: box-shadow .2s ease, transform .2s ease;
}
.rating-row input[type="range"]:focus {
  box-shadow: var(--focus);
}

/* WebKit thumb */
.rating-row input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: var(--slider-thumb);
  height: var(--slider-thumb);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #ffffff 0%, #f3f4f6 50%, #e5e7eb 100%);
  border: 2px solid var(--brand);
  cursor: pointer;
}
html[data-theme="dark"] .rating-row input[type="range"]::-webkit-slider-thumb {
  background: radial-gradient(circle at 35% 35%, #0b1222 0%, #0e1730 55%, #101a36 100%);
  border-color: var(--brand);
}

/* Firefox track & thumb */
.rating-row input[type="range"]::-moz-range-track {
  height: var(--slider-height);
  background: linear-gradient(90deg, rgba(37,99,235,.15), rgba(99,102,241,.15));
  border: 1px solid var(--border);
  border-radius: 999px;
}
.rating-row input[type="range"]::-moz-range-thumb {
  width: var(--slider-thumb);
  height: var(--slider-thumb);
  border-radius: 50%;
  background: #fff;
  border: 2px solid var(--brand);
  cursor: pointer;
}

/* ---------- Buttons (generic) ---------- */
button {
  cursor: pointer;
}
button:focus-visible {
  outline: none;
  box-shadow: var(--focus);
}
button.ghost {
  background: transparent;
  color: var(--text);
  border: 1px solid var(--border);
}
button.ghost:hover {
  background: rgba(0,0,0,.03);
}

/* ---------- Tables (Summary etc.) ---------- */
table {
  width: 100%;
  border-collapse: collapse;
}
th, td {
  padding: 10px 8px;
  border-bottom: 1px solid var(--border);
}
thead tr {
  background: linear-gradient(0deg, rgba(148,163,184,.10), rgba(148,163,184,.10));
}
tbody tr:nth-child(even) {
  background: var(--table-stripe);
}

/* ---------- Chips / badges (used by diff) ---------- */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  letter-spacing: .2px;
}

/* ---------- Scrollbars ---------- */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar) transparent;
}
*::-webkit-scrollbar {
  height: 10px; width: 10px;
}
*::-webkit-scrollbar-thumb {
  background: var(--scrollbar);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
*::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-hover); }

html[data-theme="dark"] html,
html[data-theme="dark"] body,
html[data-theme="dark"] #root,
html[data-theme="dark"] .app {
  color: #fff !important;
}
.answer-card, .answer-card * {
  color: #fff !important;
}
.question-text, .answer-text, .meta, .meta * {
  color: #fff !important;
}
/* Αν θες να “νικήσεις” variables/frameworks */
:root {
  --foreground: #fff !important;
  --muted-foreground: #fff !important;
}

/* ---------- Small utilities ---------- */
.hidden { display: none !important; }
.mono   { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.center { display: grid; place-items: center; }

@media (max-width: 520px) {
  :root { --grid-min: 100%; }
  .header-bar { gap: 10px; }
  .meta-row { gap: 8px; }
}
